<main class="flex flex-col md:gap-20 gap-10 items-center">
  <section class="intro md:p-36 py-20" [style]="'background-color: #' + color">
    <div class="absolute right-4 top-4 text-white cursor-pointer">
      <div class="switchColorScheme">
        <label class="switch inline-block relative">
          <input
            type="checkbox"
            class="hidden invisible"
            (click)="switchColorScheme()"
            [checked]="getThemeLocalStorage() === ThemeConstant.DARK"
          />
          <span
            class="slider absolute cursor-pointer top-0 left-0 right-0 bottom-0 rounded-2xl"
          ></span>
        </label>
      </div>
    </div>

    @if (openProfilerConfig.base; as base) {
      <div class="flex gap-4 items-center justify-center max-w-4xl md:m-auto">
        <div class="flex flex-col gap-2 text-center">
          @if (base.name; as name) {
            <h1 class="md:text-5xl text-3xl font-bold text-white">{{ name }}</h1>
          }

          @if (base.role; as role) {
            <p class="md:text-2xl text-lg text-white">{{ role }}</p>
          }

          @if (base.socials; as socials) {
            @if (socials.length) {
              <div class="flex flex-row gap-2 mx-auto items-center w-full justify-center">
                @for (social of socials; track $index) {
                  @if (social.link) {
                    <a [href]="social.redirect" target="_blank">
                      <img width="20" height="20" [alt]="social.icon" [ngSrc]="social.link" />
                    </a>
                  }
                }
              </div>
            }
          }
        </div>
      </div>
    }
  </section>

  @if (openProfilerConfig.badges; as badges) {
    @if ((badges | json) !== '{}') {
      <section>
        <h2>Skills</h2>
        <div class="flex flex-col gap-4">
          @for (area of badges | keyvalue; track $index) {
            @if (area.value.length) {
              <h3>{{ area.key }}</h3>
              <div class="flex flex-wrap gap-4">
                @for (badge of area.value; track $index) {
                  <div
                    class="inline-flex items-center gap-2 justify-center rounded-2xl px-4 py-1 w-fit font-semibold dark:bg-[#2c2c2c] bg-gray-50 cursor-default"
                  >
                    @if (badge.link) {
                      <img width="20" height="20" [alt]="badge.label" [ngSrc]="badge.link" />
                    }
                    <div class="dark:text-gray-100 text-gray-700 capitalize">
                      {{ badge.label }}
                    </div>
                  </div>
                }
              </div>
            }
          }
        </div>
      </section>
    }
  }

  @if (openProfilerConfig.experiences; as experiences) {
    @if (experiences.length) {
      <section>
        <h2>Experience</h2>
        <div class="flex flex-col gap-4 items-center">
          @for (experience of experiences; track experience; let idx = $index) {
            <div
              class="flex flex-col gap-8 rounded-2xl dark:bg-[#2c2c2c] bg-gray-50 shadow-sm w-full p-6"
            >
              <div class="flex flex-col">
                <h3>{{ experience.title }} {{ idx }}</h3>
                <p class="text-lg dark:text-gray-200 text-gray-600">{{ experience.company }}</p>
                @if (experience.date; as experienceDate) {
                  <p class="text-sm dark:text-gray-300 text-gray-400">
                    {{ experienceDate.start | date: 'dd/yyyy' }}

                    @if (experienceDate.end; as experienceDateEnd) {
                      - {{ experienceDateEnd | date: 'dd/yyyy' }}
                    } @else {
                      - Present
                    }
                  </p>
                }
              </div>
              <div class="dark:text-white text-gray-600">
                <p>{{ experience.description }}</p>
              </div>
            </div>
          }
        </div>
      </section>
    }
  }

  @if (openProfilerConfig.projects; as projects) {
    @if (projects.length) {
      <section>
        <h2>Projects</h2>
        <div
          class="flex gap-4 md:w-[56rem] w-[20rem] mx-auto snap-x snap-mandatory overflow-scroll"
        >
          @for (project of projects; track $index) {
            <div
              class="snap-start md:w-[24.5rem] w-[18.5rem] flex-shrink-0 flex flex-col gap-8 rounded-2xl shadow-sm justify-center p-6 dark:bg-[#2c2c2c] bg-gray-50"
            >
              <div class="flex flex-col">
                <h3>{{ project.name }}</h3>
              </div>
              <div class="flex flex-col gap-4">
                <img
                  priority
                  width="350"
                  height="250"
                  [alt]="project.name"
                  [ngSrc]="project.heroLink"
                  class="overflow-hidden rounded-2xl object-contain object-center"
                />
                <p class="dark:text-white text-gray-600">
                  {{ project.description }}
                </p>
              </div>
            </div>
          }
        </div>
      </section>
    }
  }

  <footer class="w-full py-12 text-center" [style]="'background-color: #' + color">
    <p class="text-white md:text-lg">
      © {{ currentYear }} - Made with ❤️ by
      <a href="https://github.com/til0r/open-profiler" class="font-bold text-white" target="_blank">
        open-profiler
      </a>
    </p>
  </footer>
</main>
